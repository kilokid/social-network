"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[999],{6999:function(e,s,t){t.r(s),t.d(s,{default:function(){return O}});var o=t(1413),r=t(2791),n=t(3531),i=t(7689),a=t(5022),l=t(9439),c=t(3560),u="ProfileStatus_status_wrapper__qSOKr",f=t(184),p=function(e){var s=e.storeStatus,t=e.updateStoreStatus,o=e.isOwner,n=(0,r.useState)(!1),i=(0,l.Z)(n,2),a=i[0],c=i[1],p=(0,r.useState)(s),m=(0,l.Z)(p,2),d=m[0],h=m[1];return(0,r.useEffect)((function(){h(s)}),[s]),(0,f.jsx)("li",{className:u,children:a?(0,f.jsx)("input",{onChange:function(e){h(e.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),t(d)},value:d}):(0,f.jsx)("span",{onClick:o?function(){return c(!0)}:null,children:s||(o?"Set your status":"No status")})})},m=t(1134),d="ProfileDataForm_field__f99-M",h="ProfileDataForm_items_wrapper__25jgS",x="ProfileDataForm_item__lthpO",_="ProfileDataForm_title__hFAh7",j="ProfileDataForm_form__9TAY6",g="ProfileDataForm_save__y6lbH",v=function(e){var s=e.profile,t=e.onSubmit,r=(0,m.cI)(),n=r.register,i=r.handleSubmit;r.formState.errors;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h3",{className:_,children:"Edit profile info"}),(0,f.jsxs)("form",{className:j,onSubmit:i(t),children:[(0,f.jsxs)("ul",{className:h,children:[(0,f.jsxs)("li",{className:x,children:["Full name:",(0,f.jsx)("input",(0,o.Z)((0,o.Z)({className:d},n("fullName")),{},{type:"text",placeholder:"Full name",autocomplete:"off"}))]}),(0,f.jsxs)("li",{className:x,children:["About me:",(0,f.jsx)("textarea",(0,o.Z)((0,o.Z)({className:d},n("aboutMe")),{},{type:"text",placeholder:"About me",autocomplete:"off"}))]}),(0,f.jsxs)("li",{className:x,children:["Looking for a job:",(0,f.jsx)("input",(0,o.Z)((0,o.Z)({},n("lookingForAJob")),{},{type:"checkbox"}))]}),(0,f.jsxs)("li",{className:x,children:["My professional skills:",(0,f.jsx)("textarea",(0,o.Z)((0,o.Z)({className:d},n("lookingForAJobDescription")),{},{type:"text",placeholder:"My professional skills",autocomplete:"off"}))]}),Object.keys(s.contacts).map((function(e){return(0,f.jsxs)("li",{className:x,children:[e,":",(0,f.jsx)("input",(0,o.Z)((0,o.Z)({className:d},n("contacts.".concat(e))),{},{type:"text",placeholder:e,autocomplete:"off"}))]},e)}))]}),(0,f.jsx)("button",{className:g,type:"submit",children:"Save"})]})]})},P={hero_block:"ProfileInfo_hero_block__BvzZr",main_info:"ProfileInfo_main_info__+Lp56",change_input:"ProfileInfo_change_input__5O51o",main_info_profile:"ProfileInfo_main_info_profile__f7XbZ",contacts:"ProfileInfo_contacts__VdrRc",edit_info:"ProfileInfo_edit_info__fnv+n"},b=function(e){var s=e.profile,t=e.editProfileInfo,o=e.isOwner;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("ul",{children:[(0,f.jsxs)("li",{children:["About me: ",s.aboutMe]}),s.lookingForAJob&&(0,f.jsx)("li",{children:"Looking for a job"}),s.lookingForAJob&&(0,f.jsxs)("li",{children:["Job Description: ",s.lookingForAJobDescription]}),Object.keys(s.contacts).map((function(e){if(s.contacts[e])return(0,f.jsxs)("li",{children:[e,": ",s.contacts[e]]},e)}))]}),o&&(0,f.jsx)("button",{className:P.edit_info,onClick:t,children:"Edit"})]})},k=function(e){var s=e.profile,t=e.setStatus,o=e.status,n=e.isOwner,i=e.savePhotos,a=e.saveProfileInfo,u=e.userId,m=(0,r.useState)(!1),d=(0,l.Z)(m,2),h=d[0],x=d[1];if(!s)return(0,f.jsx)(c.Z,{});return(0,f.jsx)(f.Fragment,{children:h?(0,f.jsx)(v,{profile:s,onSubmit:function(e){a(e,u),x(!1)}}):(0,f.jsxs)("div",{className:P.content,children:[(0,f.jsx)("div",{className:P.hero_block}),(0,f.jsxs)("div",{className:P.main_info,children:[(0,f.jsxs)("picture",{children:[(0,f.jsx)("img",{src:s.photos.large?s.photos.large:"https://static.prinseps.com/media/uploads/cryptopunk6278.png",alt:s.fullName}),n&&(0,f.jsx)("input",{className:P.change_input,type:"file",onChange:function(e){e.target.files.length&&i(e.target.files[0])}})]}),(0,f.jsxs)("div",{className:P.main_info_profile,children:[(0,f.jsx)("h3",{children:s.fullName}),(0,f.jsx)(p,{updateStoreStatus:t,storeStatus:o,isOwner:n})]}),(0,f.jsx)("div",{className:P.contacts,children:(0,f.jsx)(b,{editProfileInfo:function(){return x(!0)},profile:s,isOwner:n})})]})]})})},N="Post_post__Evse1",S=function(e){var s=e.ava,t=e.text,o=e.likes,r=e.id,n=e.onDelete;return(0,f.jsxs)("li",{className:N,children:[(0,f.jsx)("img",{src:s,alt:r}),(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{children:t}),(0,f.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Ei-like.svg/1200px-Ei-like.svg.png"}),(0,f.jsx)("span",{children:o}),(0,f.jsx)("button",{onClick:function(){return n(r)},children:(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",children:(0,f.jsx)("path",{d:"M 39.486328 6.9785156 A 1.50015 1.50015 0 0 0 38.439453 7.4394531 L 24 21.878906 L 9.5605469 7.4394531 A 1.50015 1.50015 0 0 0 8.484375 6.984375 A 1.50015 1.50015 0 0 0 7.4394531 9.5605469 L 21.878906 24 L 7.4394531 38.439453 A 1.50015 1.50015 0 1 0 9.5605469 40.560547 L 24 26.121094 L 38.439453 40.560547 A 1.50015 1.50015 0 1 0 40.560547 38.439453 L 26.121094 24 L 40.560547 9.5605469 A 1.50015 1.50015 0 0 0 39.486328 6.9785156 z"})})})]})]})},I="MyPosts_posts_form__GM95t",Z="MyPosts_posts__F024C",w="MyPosts_error__Lq7n0",y="MyPosts_errorMessage__49i1B",A=function(e){var s=e.onSubmit,t=(0,m.cI)(),r=t.register,n=t.handleSubmit,i=t.formState.errors;return(0,f.jsxs)("form",{onSubmit:n(s),children:[(0,f.jsx)("input",(0,o.Z)((0,o.Z)({className:i.postText?w:""},r("postText",{required:"can't send empty post",minLength:{value:1,message:"Min length 1 symbol"},maxLength:{value:100,message:"Max length message 100 symbols"}})),{},{type:"text",placeholder:"Your news..."})),i.postText&&(0,f.jsx)("span",{className:y,children:i.postText.message}),(0,f.jsx)("button",{type:"submit",children:"Send"})]})},F=function(e){var s=e.profile,t=e.posts,o=e.onCreatePost,r=e.onDeletePost,n=function(e){r(e)},i=t.map((function(e){var t=e.postText,o=e.likes,r=e.id;return(0,f.jsx)(S,{ava:null===s||void 0===s?void 0:s.photos.small,text:t,likes:o,onDelete:n,id:r},r)}));return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:I,children:[(0,f.jsx)("h2",{children:"My posts"}),(0,f.jsx)(A,{onSubmit:function(e){o(e)}})]}),(0,f.jsx)("ul",{className:Z,children:i})]})},D=(0,r.memo)((function(e){var s=e.profile,t=e.posts,o=e.onCreatePost,r=e.onDeletePost,n=e.setProfileStatus,i=e.status,a=e.isOwner,l=e.savePhotos,u=e.saveProfileInfo,p=e.userId;return s?(0,f.jsxs)("div",{children:[(0,f.jsx)(k,{profile:s,setStatus:n,status:i,isOwner:a,savePhotos:l,saveProfileInfo:u,userId:p}),a&&(0,f.jsx)(F,{posts:t,profile:s,onCreatePost:o,onDeletePost:r})]}):(0,f.jsx)(c.Z,{})})),L=t(1548),C=t(7781),M=(0,L.Z)((function(e){var s=function(s){e.getUserProfile(s)},t=function(s){e.getProfileStatus(s)};return(0,r.useEffect)((function(){!function(){var o=e.router.params.userId;o||e.isAuth&&(o=e.userId),s(o),t(o)}()}),[e.router.params.userId]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(D,(0,o.Z)((0,o.Z)({},e),{},{profile:e.profile,userId:e.userId,saveProfileInfo:e.saveProfileInfo,savePhotos:e.savePhotos,isOwner:!e.router.params.userId}))})})),O=(0,C.qC)((0,n.$j)((function(e){return{posts:e.profilePage.postsData,profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,userId:e.auth.userId}}),{onCreatePost:a.Nw.addPostActionCreator,onDeletePost:a.Nw.deletePostActionCreator,getUserProfile:a.om,getProfileStatus:a.TL,setProfileStatus:a.$p,savePhotos:a.sL,saveProfileInfo:a.rJ}))((function(e){var s=(0,i.TH)(),t=(0,i.s0)(),r=(0,i.UO)();return(0,f.jsx)(M,(0,o.Z)((0,o.Z)({},e),{},{router:{location:s,navigate:t,params:r}}))}))},1548:function(e,s,t){var o=t(1413),r=t(3531),n=t(7689),i=t(184),a=function(e){return{isAuth:e.auth.isAuth}};s.Z=function(e){return(0,r.$j)(a)((function(s){return(0,i.jsx)(i.Fragment,{children:s.isAuth?(0,i.jsx)(e,(0,o.Z)({},s)):(0,i.jsx)(n.Fg,{to:"/login"})})}))}}}]);
//# sourceMappingURL=999.28ee70d8.chunk.js.map