"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[140],{4737:function(e,s,r){r.r(s),r.d(s,{default:function(){return y}});var n=r(2791),t=r(3531),o=r(6963),l=function(e){return e.users.users},u=function(e){return e.users.pageSize},i=function(e){return e.users.totalUsersCount},a=function(e){return e.users.currentPage},c=function(e){return e.users.isFetching},f=function(e){return e.users.followingInProgress},g=r(9439),_=r(5987),p=r(1087),U="User_user__IJGnC",m="User_user_link__Co7Al",d="User_avatar_block__vpBV0",h="User_ava__A1iTT",w="User_btn__Vp5Am",j="User_user_info__m0cu7",x="User_user_info_link__kLMp9",P="User_status__EFMv7",v="User_disable__ITF7O",N=r.p+"static/media/user-ava.10691648d79aa2f92514.png",b=r(184),C=function(e){var s=e.user,r=e.unfollowUser,n=e.followUser,t=e.isFollowingProgress,o=t.some((function(e){return e===s.id}))?"".concat(w," ").concat(v):w;return(0,b.jsxs)("li",{className:U,children:[(0,b.jsx)("div",{className:d,children:(0,b.jsx)(p.OL,{to:"/profile/".concat(s.id),className:m,children:(0,b.jsx)("span",{className:h,children:s.photos.small?(0,b.jsx)("img",{className:h,src:s.photos.small,alt:s.name}):(0,b.jsx)("img",{className:h,src:N,alt:s.name})})})}),(0,b.jsx)("div",{className:j,children:(0,b.jsxs)(p.OL,{to:"/profile/".concat(s.id),className:x,children:[(0,b.jsx)("h3",{children:s.name}),s.followed?(0,b.jsx)("button",{onClick:function(e){return function(e,s){e.preventDefault(),r(s)}(e,s.id)},className:o,children:"Unfollow"}):(0,b.jsx)("button",{onClick:function(e){return function(e,s){e.preventDefault(),n(s)}(e,s.id)},className:o,children:"Follow"}),(0,b.jsx)("p",{className:P,children:s.status})]})})]})},k={users:"User_users__uhcfy",title:"User_title__MhAhY",pages:"User_pages__YYHs1",currentPage:"User_currentPage__uxVB-",pagBtn:"User_pagBtn__KoD-A",prev:"User_prev__sRM7m"},F=["users","portionSize"],S=function(e){for(var s=e.users,r=e.portionSize,t=void 0===r?10:r,o=(0,_.Z)(e,F),l=s.map((function(e){return(0,b.jsx)(C,{user:e,unfollowUser:o.unfollowUser,followUser:o.followUser,setUsers:o.setUsers,setIsFollowing:o.setIsFollowing,isFollowingProgress:o.isFollowingProgress},e.id)})),u=Math.ceil(o.totalUsersCount/o.pageSize),i=[],a=1;a<=u;a++)i.push(a);var c=Math.ceil(u/t),f=(0,n.useState)(1),p=(0,g.Z)(f,2),U=p[0],m=p[1],d=(U-1)*t+1,h=U*t;return(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:k.title,children:"Users"}),(0,b.jsx)("ul",{className:k.users,children:l}),(0,b.jsxs)("ul",{className:k.pages,children:[U>1&&(0,b.jsx)("button",{className:k.pagBtn+" "+k.prev,onClick:function(){m(U-1)},children:"Prev"}),i.filter((function(e){return e>=d&&e<=h})).map((function(e){return(0,b.jsx)("li",{className:e===o.currentPage?k.currentPage:"",children:(0,b.jsx)("button",{onClick:function(){return o.setCurrentPage(e)},type:"button",children:e})},e)})),c>U&&(0,b.jsx)("button",{className:k.pagBtn+" "+k.next,onClick:function(){m(U+1)},children:"Next"})]})]})},O=r(3560),y=(0,t.$j)((function(e){return{users:l(e),pageSize:u(e),totalUsersCount:i(e),currentPage:a(e),isFetching:c(e),isFollowingProgress:f(e)}}),{followUser:o.bT,unfollowUser:o.m0,setCurrentPage:o.Nw.setCurrentPageActionCreator,getUsersRequest:o.Uk})((function(e){(0,n.useEffect)((function(){!function(s){e.getUsersRequest(s,e.pageSize)}(e.currentPage)}),[e.currentPage]);var s=e.users,r=e.pageSize,t=e.pageNumber,o=e.totalUsersCount,l=e.currentPage,u=e.setCurrentPage,i=e.followUser,a=e.unfollowUser,c=e.isFollowingProgress;return(0,b.jsx)(b.Fragment,{children:e.isFetching?(0,b.jsx)(O.Z,{}):(0,b.jsx)(S,{users:s,pageSize:r,pageNumber:t,totalUsersCount:o,currentPage:l,setCurrentPage:u,followUser:i,unfollowUser:a,isFollowingProgress:c})})}))},5987:function(e,s,r){r.d(s,{Z:function(){return t}});var n=r(3366);function t(e,s){if(null==e)return{};var r,t,o=(0,n.Z)(e,s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)r=l[t],s.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}}}]);
//# sourceMappingURL=140.c8448123.chunk.js.map