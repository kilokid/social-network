"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[501],{5501:function(e,t,s){s.r(t),s.d(t,{default:function(){return L}});var r=s(1413),n=s(2791),i=s(3531),o=s(7689),a=s(6508),l=s(3560),u=s(9439),c="ProfileStatus_status_wrapper__qSOKr",p=s(184),f=function(e){var t=e.storeStatus,s=e.updateStoreStatus,r=(0,n.useState)(!1),i=(0,u.Z)(r,2),o=i[0],a=i[1],l=(0,n.useState)(t),f=(0,u.Z)(l,2),h=f[0],d=f[1];return(0,n.useEffect)((function(){d(t)}),[t]),(0,p.jsx)("li",{className:c,children:o?(0,p.jsx)("input",{onChange:function(e){d(e.currentTarget.value)},autoFocus:!0,onBlur:function(){a(!1),s(h)},value:h}):(0,p.jsx)("span",{onClick:function(){return a(!0)},children:t||"Set your status"})})},h={hero_block:"ProfileInfo_hero_block__BvzZr",main_info:"ProfileInfo_main_info__+Lp56"},d=function(e){var t=e.profile,s=e.setStatus,r=e.status;if(!t)return(0,p.jsx)(l.Z,{});return(0,p.jsxs)("div",{className:h.content,children:[(0,p.jsx)("div",{className:h.hero_block,children:(0,p.jsx)("img",{src:"https://www.metoffice.gov.uk/binaries/content/gallery/metofficegovuk/hero-images/advice/maps-satellite-images/satellite-image-of-globe.jpg"})}),(0,p.jsxs)("div",{className:h.main_info,children:[(0,p.jsx)("img",{src:t.photos.large?t.photos.large:"https://static.prinseps.com/media/uploads/cryptopunk6278.png",alt:t.fullName}),(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{children:t.fullName}),(0,p.jsxs)("ul",{children:[(0,p.jsx)("li",{children:"Date of Birth: 1 january"}),(0,p.jsx)("li",{children:"City: Kyiv"}),(0,p.jsx)("li",{children:"Education: University of Cambridge"}),(0,p.jsxs)("li",{children:["Web Site: ",(0,p.jsx)("a",{href:"https://apple.com",children:"apple.com"})]}),(0,p.jsx)(f,{updateStoreStatus:s,storeStatus:r})]})]})]})]})},x=s(1134),m="Post_post__Evse1",j=function(e){var t=e.text,s=e.likes,r=e.id,n=e.onDelete;return(0,p.jsxs)("li",{className:m,children:[(0,p.jsx)("span",{}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{children:t}),(0,p.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Ei-like.svg/1200px-Ei-like.svg.png"}),(0,p.jsx)("span",{children:s}),(0,p.jsx)("button",{onClick:function(){return n(r)},children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",children:(0,p.jsx)("path",{d:"M 39.486328 6.9785156 A 1.50015 1.50015 0 0 0 38.439453 7.4394531 L 24 21.878906 L 9.5605469 7.4394531 A 1.50015 1.50015 0 0 0 8.484375 6.984375 A 1.50015 1.50015 0 0 0 7.4394531 9.5605469 L 21.878906 24 L 7.4394531 38.439453 A 1.50015 1.50015 0 1 0 9.5605469 40.560547 L 24 26.121094 L 38.439453 40.560547 A 1.50015 1.50015 0 1 0 40.560547 38.439453 L 26.121094 24 L 40.560547 9.5605469 A 1.50015 1.50015 0 0 0 39.486328 6.9785156 z"})})})]})]})},g="MyPosts_posts_form__GM95t",v="MyPosts_posts__F024C",_="MyPosts_error__Lq7n0",P="MyPosts_errorMessage__49i1B",S=function(e){var t=e.onSubmit,s=(0,x.cI)(),n=s.register,i=s.handleSubmit,o=s.formState.errors;return(0,p.jsxs)("form",{onSubmit:i(t),children:[(0,p.jsx)("input",(0,r.Z)((0,r.Z)({className:o.postText?_:""},n("postText",{required:"can't send empty post",minLength:{value:1,message:"Min length 1 symbol"},maxLength:{value:100,message:"Max length message 100 symbols"}})),{},{type:"text",placeholder:"Your news..."})),o.postText&&(0,p.jsx)("span",{className:P,children:o.postText.message}),(0,p.jsx)("button",{type:"submit",children:"Send"})]})},k=function(e){var t=e.posts,s=e.onCreatePost,r=e.onDeletePost,n=function(e){r(e)},i=t.map((function(e){var t=e.text,s=e.likes,r=e.id;return(0,p.jsx)(j,{text:t,likes:s,onDelete:n,id:r},r)}));return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)("h2",{children:"My posts"}),(0,p.jsx)(S,{onSubmit:function(e){s(e)}})]}),(0,p.jsx)("ul",{className:v,children:i})]})},b=(0,n.memo)((function(e){var t=e.profile,s=e.posts,r=e.onCreatePost,n=e.onDeletePost,i=e.setProfileStatus,o=e.status;return(0,p.jsxs)("div",{children:[(0,p.jsx)(d,{profile:t,setStatus:i,status:o}),(0,p.jsx)(k,{posts:s,onCreatePost:r,onDeletePost:n})]})})),w=s(1548),y=s(7781),C=(0,w.Z)((function(e){var t=e.router.params.userId;t||e.isAuth&&(t=e.userId);return(0,n.useEffect)((function(){e.getUserProfile(t),e.getProfileStatus(t)}),[]),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(b,(0,r.Z)((0,r.Z)({},e),{},{profile:e.profile}))})})),L=(0,y.qC)((0,i.$j)((function(e){return{posts:e.profilePage.postsData,profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,userId:e.auth.userId}}),{onCreatePost:a.Wl,onDeletePost:a.fu,getUserProfile:a.om,getProfileStatus:a.TL,setProfileStatus:a.$p}))((function(e){var t=(0,o.TH)(),s=(0,o.s0)(),n=(0,o.UO)();return(0,p.jsx)(C,(0,r.Z)((0,r.Z)({},e),{},{router:{location:t,navigate:s,params:n}}))}))},1548:function(e,t,s){var r=s(1413),n=s(3531),i=s(7689),o=s(184),a=function(e){return{isAuth:e.auth.isAuth}};t.Z=function(e){return(0,n.$j)(a)((function(t){return(0,o.jsx)(o.Fragment,{children:t.isAuth?(0,o.jsx)(e,(0,r.Z)({},t)):(0,o.jsx)(i.Fg,{to:"/login"})})}))}}}]);
//# sourceMappingURL=501.d46b6ab1.chunk.js.map