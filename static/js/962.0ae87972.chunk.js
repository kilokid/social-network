"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[962],{8962:function(e,s,r){r.r(s),r.d(s,{default:function(){return O}});var n=r(2791),t=r(3531),o=r(946),l=function(e){return e.users.users},u=function(e){return e.users.pageSize},i=function(e){return e.users.totalUsersCount},a=function(e){return e.users.currentPage},c=function(e){return e.users.isFetching},f=function(e){return e.users.followingInProgress},_=r(9439),g=r(5987),p=r(1087),d="User_user__IJGnC",U="User_user_link__Co7Al",h="User_avatar_block__vpBV0",m="User_ava__A1iTT",w="User_btn__Vp5Am",j="User_user_info__m0cu7",x="User_user_info_link__kLMp9",v="User_location__Tfvsl",P="User_status__EFMv7",b="User_disable__ITF7O",C=r(184),N=function(e){var s=e.user,r=e.unfollowUser,n=e.followUser,t=e.isFollowingProgress,o=t.some((function(e){return e===s.id}))?"".concat(w," ").concat(b):w;return(0,C.jsxs)("li",{className:d,children:[(0,C.jsxs)("div",{className:h,children:[(0,C.jsx)(p.OL,{to:"/profile/".concat(s.id),className:U,children:(0,C.jsx)("span",{className:m})}),s.followed?(0,C.jsx)("button",{onClick:function(){return e=s.id,void r(e);var e},className:o,children:"Unfollow"}):(0,C.jsx)("button",{onClick:function(){return e=s.id,void n(e);var e},className:o,children:"Follow"})]}),(0,C.jsx)("div",{className:j,children:(0,C.jsxs)(p.OL,{to:"/profile/".concat(s.id),className:x,children:[(0,C.jsx)("h3",{children:s.name}),(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)("span",{children:"Test Country,"}),(0,C.jsx)("span",{children:"Test city"})]}),(0,C.jsx)("p",{className:P,children:s.status})]})})]})},k={users:"User_users__uhcfy",title:"User_title__MhAhY",pages:"User_pages__YYHs1",currentPage:"User_currentPage__uxVB-",pagBtn:"User_pagBtn__KoD-A",prev:"User_prev__sRM7m"},F=["users","portionSize"],S=function(e){for(var s=e.users,r=e.portionSize,t=void 0===r?10:r,o=(0,g.Z)(e,F),l=s.map((function(e){return(0,C.jsx)(N,{user:e,unfollowUser:o.unfollowUser,followUser:o.followUser,setUsers:o.setUsers,setIsFollowing:o.setIsFollowing,isFollowingProgress:o.isFollowingProgress},e.id)})),u=Math.ceil(o.totalUsersCount/o.pageSize),i=[],a=1;a<=u;a++)i.push(a);var c=Math.ceil(u/t),f=(0,n.useState)(1),p=(0,_.Z)(f,2),d=p[0],U=p[1],h=(d-1)*t+1,m=d*t;return(0,C.jsxs)("div",{children:[(0,C.jsx)("h2",{className:k.title,children:"Users"}),(0,C.jsx)("ul",{className:k.users,children:l}),(0,C.jsxs)("ul",{className:k.pages,children:[d>1&&(0,C.jsx)("button",{className:k.pagBtn+" "+k.prev,onClick:function(){U(d-1)},children:"Prev"}),i.filter((function(e){return e>=h&&e<=m})).map((function(e){return(0,C.jsx)("li",{className:e===o.currentPage?k.currentPage:"",children:(0,C.jsx)("button",{onClick:function(){return o.setCurrentPage(e)},type:"button",children:e})},e)})),c>d&&(0,C.jsx)("button",{className:k.pagBtn+" "+k.next,onClick:function(){U(d+1)},children:"Next"})]})]})},y=r(3560),O=(0,t.$j)((function(e){return{users:l(e),pageSize:u(e),totalUsersCount:i(e),currentPage:a(e),isFetching:c(e),isFollowingProgress:f(e)}}),{followUser:o.bT,unfollowUser:o.m0,setCurrentPage:o._Y,getUsersRequest:o.Uk})((function(e){(0,n.useEffect)((function(){!function(s){e.getUsersRequest(s,e.pageSize)}(e.currentPage)}),[e.currentPage]);var s=e.users,r=e.pageSize,t=e.pageNumber,o=e.totalUsersCount,l=e.currentPage,u=e.setCurrentPage,i=e.followUser,a=e.unfollowUser,c=e.isFollowingProgress;return(0,C.jsx)(C.Fragment,{children:e.isFetching?(0,C.jsx)(y.Z,{}):(0,C.jsx)(S,{users:s,pageSize:r,pageNumber:t,totalUsersCount:o,currentPage:l,setCurrentPage:u,followUser:i,unfollowUser:a,isFollowingProgress:c})})}))},5987:function(e,s,r){r.d(s,{Z:function(){return t}});var n=r(3366);function t(e,s){if(null==e)return{};var r,t,o=(0,n.Z)(e,s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(t=0;t<l.length;t++)r=l[t],s.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}}}]);
//# sourceMappingURL=962.0ae87972.chunk.js.map